<!-- templates/articles/detail.html -->
{% extends "base_with_sidebar.html" %}

{% block title %}{{ article.title }} | HealthPulse{% endblock %}

{% block main_content %}
    <!-- Блок заголовка и изображения -->
    <article class="bg-white rounded-lg shadow-md overflow-hidden">
        <!-- Большое изображение-баннер -->
        {% if article.image_url %}
            <div class="bg-gray-200 h-96 flex items-center justify-center">
                <img src="{{ article.image_url }}" alt="{{ article.title }}" class="w-full h-full object-cover">
            </div>
        {% else %}
            <div class="bg-gray-200 h-96 flex items-center justify-center">
                <i class="fas fa-heartbeat text-10xl text-indigo-300"></i>
            </div>
        {% endif %}

        <!-- Заголовок и метаданные -->
        <div class="p-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">{{ article.title }}</h1> <!-- Меняем цвет заголовка -->

            <!-- Источник и дата -->
            <div class="flex items-center space-x-4 text-sm text-gray-500 mb-4">
                {% if article.source_name %}
                    <span>Source: {{ article.source_name }}</span>
                {% endif %}
                <time>{{ article.published_at|date:"F d, Y" }}</time>
            </div>

            <!-- Социальные кнопки -->
            <div class="flex items-center space-x-4 mt-4 mb-6">
                <a href="#" class="social-button hover:text-slate-700"><i class="fab fa-linkedin-in"></i></a> <!-- Используем класс social-button -->
                <a href="#" class="social-button hover:text-slate-700"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-button hover:text-slate-700"><i class="fab fa-twitter"></i></a>
                <a href="#" class="social-button hover:text-slate-700"><i class="fas fa-print"></i></a>
                <a href="#" class="social-button hover:text-slate-700"><i class="far fa-envelope"></i></a>
                <a href="#" class="social-button hover:text-slate-700"><i class="far fa-copy"></i></a>
            </div>

            <!-- Разделитель -->
            <hr class="my-6 border-gray-200">

            <!-- Контент статьи -->
            <div class="prose prose-slate max-w-none"> <!-- Меняем цвет текста статьи на slate -->
                {{ article.processed_content|safe }}
            </div>

            <!-- Категории/теги -->
            {% if tags_list %}
                <div class="mt-6 pt-4 border-t border-gray-200">
                    <p class="text-sm text-gray-500">Filed Under:
                        {% for tag in tags_list %}
                            <a href="#" class="text-link hover:underline">{{ tag }}</a>{% if not forloop.last %}, {% endif %}
                        {% endfor %}
                    </p>
                </div>
            {% endif %}

            <!-- Ссылка на источник -->
            {% if article.source_url %}
                <footer class="mt-8 pt-4 border-t border-gray-200 text-sm text-gray-600">
                    <p>Original article: <a href="{{ article.source_url }}" target="_blank" rel="noopener noreferrer" class="text-link hover:underline">View on {{ article.source_name|default:"Source" }}</a></p>
                </footer>
            {% endif %}
        </div>
    </article>

    <!-- Кнопка "Назад" -->
    <div class="mt-8 text-center">
        <a href="{% url 'articles:article_list' %}" class="btn-primary">
            <i class="fas fa-arrow-left mr-2"></i> Back to Articles
        </a>
    </div>
{% endblock %}
